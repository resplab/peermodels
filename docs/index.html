<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Client-Side R API Wrapper for Peer Models Network Model Repository  • peermodels</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Client-Side R API Wrapper for Peer Models Network Model Repository ">
<meta property="og:description" content="Enables direct cloud access to health care decision models hosted on the PRISM server of the Peer Models Network.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">peermodels</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.10.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<div class="section level1">
<div class="page-header"><h1 id="peermodels">peermodels<a class="anchor" aria-label="anchor" href="#peermodels"></a>
</h1></div>
<p>The <code>peermodels</code> package allows easy access to models
hosted on the <a href="https://www.peermodelsnetwork.com" class="external-link">Peer Models
Network (PMN)</a>. The Peer Models Network is an initiative to make
statistical models that inform healthcare decisions available online,
along with educational videos and other resources to help understand how
they work. Learn more about PMN by visiting <a href="https://www.peermodelsnetwork.com" class="external-link">www.peermodelsnetwork.com</a>
and the PMN Model Repository page at <a href="https://models.peermodelsnetwork.com" class="external-link">models.peermodelsnetwork.com</a>.</p>
<p>This package allows users to directly access models on the cloud and
interact with them without worrying about setting up the required
software environment and accessing high-performance computing power.</p>
<div class="section level3">
<h3 id="installing-the-package">Installing the package<a class="anchor" aria-label="anchor" href="#installing-the-package"></a>
</h3>
<pre><code><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'remotes'</span><span class="op">)</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">'resplab/peermodels'</span><span class="op">)</span></code></pre>
</div>
<div class="section level3">
<h3 id="workflow">Workflow<a class="anchor" aria-label="anchor" href="#workflow"></a>
</h3>
<p>The <code>peermodels</code> package allows you to connect to a model
hosted on PMN cloud, fetch its input parameters, change them as needed,
and submit queries to the model. You can find a list of currently
available models at the <a href="https://models.peermodelsnetwork.com" class="external-link">PMN Model Repository
page</a>. To access a model, you would need to request an API Key.
Please <a href="https://www.peermodelsnetwork.com/join" class="external-link">contact us</a>
to request an API key.</p>
<p>The <code>connect_to_model</code> function, checks access to the
model. <code><a href="reference/get_default_input.html">get_default_input()</a></code> returns the default input of the
model, which allows the user to become familiarized with the structure
of the input. The parameters can then be changed as required and passed
to the <code><a href="reference/model_run.html">model_run()</a></code> function, which runs the model on the
PMN cloud and returns the response. If the model is producing graphical
output, the <code><a href="reference/draw_plots.html">draw_plots()</a></code> function can be used to fetch the
produced graphics from the PMN cloud.</p>
<p>The code snippet below provides an example of a how to call a
prediction model, in this case <a href="https://www.thelancet.com/journals/lanres/article/PIIS2213-2600%2819%2930397-2/fulltext" class="external-link">The
Acute COPD Exacerbation Tool (ACCEPT)</a>:</p>
<pre><code>&gt; library(peermodels)
&gt; input &lt;- get_default_input("accept", api_key = "[YOUR_API_KEY]")
Selected model is accept
Calling server at https://prism.peermodelsnetwork.com/route/accept/run
&gt; 
&gt; input
     ID male age smoker oxygen statin LAMA LABA ICS FEV1 BMI SGRQ LastYrExacCount LastYrSevExacCount randomized_azithromycin randomized_statin
1 10001    1  70      1      1      1    1    1   1   33  25   50               2                  1                       0                 0
  randomized_LAMA randomized_LABA randomized_ICS random_sampling_N random_distribution_iteration calculate_CIs
1               0               0              0              1000                         20000          TRUE</code></pre>
<p>The input shows that the default COPD patient is a 70 years old male
who is a current smoker, has received oxygen therapy in the past year,
is currently on LAMAs, LABAs, ICS, has a lung function of 33% and an
SGRQ score of 50. The patient has has 2 exacerbations in the past year,
one of which has been severe. Now imagine we want to run the model for a
female patient, who is 55 years old, has an FEV1 of 67%, and is only
receiving LAMA and LABA, but is otherwise similar to the previous
patient.</p>
<pre><code>&gt; input$male &lt;- 0
&gt; input$age  &lt;- 55
&gt; input$FEV1 &lt;- 67
&gt; input$oxygen &lt;- 0
&gt; input$statin &lt;- 0
&gt; input$ICS &lt;- 0
&gt; 
&gt; 
&gt; results &lt;- model_run(input, "accept", api_key = "[YOUR_API_KEY")
Selected model is accept
Calling server at https://prism.peermodelsnetwork.com/route/accept/run</code></pre>
<p>Now we can explore the predictions of the model:</p>
<pre><code>&gt; results$predicted_exac_probability
[1] 0.7656
&gt; results$predicted_exac_rate
[1] 1.774
&gt; results$predicted_severe_exac_probability
[1] 0.215
&gt; results$predicted_severe_exac_rate
[1] 0.3638</code></pre>
<p>More info and examples on how to access different models on R as well
as other platforms can be found on the <a href="https://resplab.github.io/prismguide/" class="external-link">PMN API User Guide
page</a>.</p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=peermodels" class="external-link">View on CRAN</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing peermodels</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>amin adibi <br><small class="roles"> Author, maintainer </small>  </li>
<li>Mohsen Sadatsafavi <br><small class="roles"> Author, copyright holder </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/resplab/peermodels/actions" class="external-link"><img src="https://github.com/resplab/peermodels/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://CRAN.R-project.org/package=peermodels" class="external-link"><img src="https://www.r-pkg.org/badges/version/peermodels" alt="CRAN status"></a></li>
<li><a href="https://www.repostatus.org/#active" class="external-link"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active – The project has reached a stable, usable state and is being actively developed."></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by amin adibi, Mohsen Sadatsafavi.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
